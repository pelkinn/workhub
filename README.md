# WorkHub

WorkHub — интеграционный хаб задач и напоминаний: события и задачи могут приходить из разных источников (UI, Telegram, Webhook), попадать в проекты, а дальше сопровождаться автоматикой (напоминания, дайджесты) и аудитом действий.

Это не “ещё один todo”, а слой над задачами: входящие события → правила/маршрутизация → проекты → автоматические действия.

## MVP (первая рабочая версия)

Цель MVP: локально поднять fullstack-приложение, в котором есть проекты, задачи, базовый доступ и минимальная автоматика.

### Что входит в MVP

- Auth:
  - `POST /auth/login`
  - `GET /auth/me`
  - JWT (refresh — опционально)
- Projects:
  - создание проекта
  - просмотр списка/деталей
- Membership / RBAC:
  - роли: owner / editor / viewer
  - доступ к проекту только участникам
- Tasks:
  - создание задачи в проекте
  - список задач проекта
  - дедлайн (опционально)
- Audit (минимум):
  - логирование create/update/delete для задач и участников
  - логирование create/update/delete для проектов
- Frontend (минимум):
  - экран логина
  - страница профиля (`/me`)
  - список проектов
  - список задач проекта

## Вне MVP (сознательно не делаем сейчас)

- “Красивый дизайн”, сложный UI/UX
- Мобильные приложения
- Реалтайм (websocket, live updates)
- Сложные фильтры/поиск
- Кастомные роли и тонкая матрица прав
- Плагины/маркетплейс интеграций
- Мультиорганизации/мульти-tenant архитектура

## Сущности (черновая доменная модель)

- User — пользователь системы.
- Project — контейнер задач, имеет участников.
- Membership — связь user ↔ project с ролью (owner/editor/viewer).
- Task — задача внутри проекта, может иметь дедлайн.
- Invitation — приглашение в проект по токену.
- AuditLog — история действий (кто, что, когда, над чем).

## Технологии

Backend:

- NestJS
- PostgreSQL (миграции)
- REST API (+ OpenAPI позже)
- Redis + BullMQ (позже в плане)

Frontend:

- Nuxt (Vue)
- минимальный функциональный UI

Infra (по плану проекта):

- Docker (dev/prod)
- Nginx (позже)
- деплой на VPS (позже)

## Недельные результаты (ориентир)

Неделя 1:

- backend и frontend запускаются локально
- работает auth
- минимальный UI закрывает login → `/me`

Неделя 2 (RBAC и приглашения). Здесь должны появиться Project, Membership и Invite (минимально необходимые):

Project — в начале недели (фактически до инвайтов), иначе “приглашать в проект” некуда. Минимум:

POST /projects (создать проект)

GET /projects (список проектов текущего пользователя)

GET /projects/:id (детали проекта с проверкой membership)

Membership — во вторник по плану у тебя guard, но для этого нужна модель и базовое создание membership:

Автосоздание membership при создании проекта (owner).

Guard/проверка: “есть membership для userId+projectId”.
Отдельные “методы membership” (типа POST /projects/:id/members) на этом этапе можно не делать. Роли пока меняются через invites (или вообще не меняются в MVP).

Invite — среда/четверг по плану:

POST /projects/:id/invite (создать приглашение)

POST /invites/:token/accept (принять приглашение)
Этого достаточно, чтобы появился второй пользователь в проекте и заработал RBAC-контур.

work*hub_4*месячный*план*развит…

Неделя 3 (Очереди и уведомления). Чтобы reminder/digest имели смысл, к началу недели 3 у тебя уже должны быть Task методы (хотя бы минимум).
Task — лучше сделать в Пн/Вт недели 3 перед reminder job:

POST /projects/:id/tasks (создать задачу)

GET /projects/:id/tasks (список задач)

PATCH /tasks/:id (обновить дедлайн/статус — что выберешь)
И этого достаточно, чтобы reminder job мог искать задачи с дедлайнами.

work*hub_4*месячный*план*развит…

Неделя 4 (Интеграции и деплой). AuditLog по плану стоит на среду недели 4.

work*hub_4*месячный*план*развит…

AuditLog — минимально:

запись событий на create/update/delete (как минимум Task и Membership/Invite, остальное по желанию)

GET /projects/:id/audit (опционально, но приятно иметь хотя бы чтение)
